{
  "id": "05c1eea1-a152-4b4a-ad3b-248b073b7557",
  "title": "Cleanup: Use Session.ID for Claude Session ID",
  "body": "Remove `ClaudeSessionID` field and use `Session.ID` directly when spawning claude with `--session-id`.\n\n## Rationale\n\nWe generate the session ID ourselves, so we can use the same ID for both our tracking and Claude's `--session-id` flag. No need for two separate IDs.\n\n## Changes\n\n- Remove `ClaudeSessionID` field from Session struct\n- When spawning: `claude --session-id {session.ID} ...`\n- When resuming: `claude --resume {session.ID} ...`\n\n## Implementation\n\n### Commits\n- `d126c2f` refactor: remove ClaudeSessionID and use Session.ID directly\n- `d8b0635` Merge branch 'ticket/2026-01-22-cleanup-session-id'\n\n### Key Files Changed\n- `internal/ticket/ticket.go` - Removed ClaudeSessionID from Session struct\n- `internal/ticket/store.go` - Removed claudeSessionID parameter from SetSession\n- `internal/core/spawn/command.go` - Added SessionID to ClaudeCommandParams for --session-id flag\n- `internal/core/spawn/spawn.go` - Updated to pass session ID to BuildClaudeCommand, renamed ResumeRequest.ClaudeSessionID to SessionID\n- `internal/core/spawn/state.go` - Removed ClaudeSessionID from StateInfo, updated CanResume logic\n- `internal/daemon/api/types.go` - Removed ClaudeSessionID from SessionResponse\n- `internal/daemon/mcp/types.go` - Removed ClaudeSessionID from SessionOutput\n- `internal/cli/sdk/client.go` - Removed ClaudeSessionID from SDK SessionResponse\n\n### Decisions\n- Deleted obsolete test `TestHandleSpawnSession_StateOrphaned_ModeResumeNoSessionID` since every session now has an ID when created via SetSession, making the \"no session ID\" scenario impossible\n- Used existing Session.ID directly for both --session-id (new spawns) and --resume (orphaned sessions)",
  "dates": {
    "created": "2026-01-23T07:29:06Z",
    "updated": "2026-01-23T07:29:06Z",
    "done": "2026-01-23T07:29:06Z"
  },
  "comments": [],
  "session": null
}
