{
  "id": "63e9ca04-0f75-424d-a271-7138eabbbaa0",
  "title": "SSE Event System for Real-Time TUI Updates",
  "body": "## Context\n\nThis project is in early development. Breaking changes are fine. Do not accumulate tech debt — write clean, direct code without backwards-compatibility shims or unnecessary abstractions.\n\n## Problem\n\nThe TUI only fetches data on init, manual refresh (`r`), or after user actions. When an agent moves a ticket to review, adds a comment, or concludes a session, the TUI has no way to know until the user manually refreshes.\n\n## Solution\n\nImplement a Server-Sent Events (SSE) system so the daemon can push real-time events to the TUI.\n\n## Architecture\n\n### 1. Event Bus (`internal/events/bus.go`)\n\nLightweight in-process pub/sub with per-project channels:\n\n```go\ntype Event struct {\n    Type        string // e.g. \"ticket.created\", \"session.status\"\n    ProjectPath string\n    TicketID    string\n    Payload     any\n}\n\ntype Bus struct {\n    mu          sync.RWMutex\n    subscribers map[string][]chan Event\n}\n\nfunc (b *Bus) Emit(e Event)\nfunc (b *Bus) Subscribe(projectPath string) (\u003c-chan Event, func())\n```\n\n### 2. Store-Level Emission\n\nInject `*events.Bus` into `*ticket.Store`. Emit after successful `save()` in each mutation method:\n\n| Event | Store Method |\n|-------|-------------|\n| `ticket.created` | `Create()` |\n| `ticket.updated` | `Update()` |\n| `ticket.deleted` | `Delete()` |\n| `ticket.moved` | `Move()` |\n| `session.started` | `SetSession()` |\n| `session.ended` | `EndSession()` |\n| `session.status` | `UpdateSessionStatus()` |\n| `comment.added` | `AddComment()` |\n| `review.requested` | `AddReviewRequest()` |\n\n### 3. SSE Endpoint (`GET /events`)\n\nNew handler in `internal/daemon/api/`:\n- Subscribes to event bus for the project (via `X-Cortex-Project` header)\n- Writes `text/event-stream` headers\n- Streams events as `data: {...}\\n\\n`\n- Cleans up on client disconnect\n- Server already has `WriteTimeout: 0` for SSE support\n\n### 4. SDK Client\n\nAdd `SubscribeEvents(ctx context.Context) (\u003c-chan Event, error)` to SDK client:\n- Opens long-lived HTTP connection to `/events`\n- Parses SSE stream\n- Returns typed event channel\n\n### 5. TUI Integration\n\nBubble Tea subscription goroutine reads from event channel, sends `EventMsg` into the program. `Update()` handler re-fetches board data on relevant events.\n\n## Acceptance Criteria\n\n- [ ] Event bus with per-project subscribe/emit\n- [ ] Store emits events on all 9 mutation points\n- [ ] SSE endpoint streams events to connected clients\n- [ ] SDK client can subscribe to event stream\n- [ ] TUI auto-refreshes kanban board on incoming events\n- [ ] TUI auto-refreshes ticket detail view on incoming events\n- [ ] Clean disconnect handling (no goroutine leaks)",
  "dates": {
    "created": "2026-01-26T15:53:01.717454Z",
    "updated": "2026-01-26T18:12:50.163297Z",
    "progress": "2026-01-26T16:40:09.587053Z",
    "reviewed": "2026-01-26T18:10:40.607732Z",
    "done": "2026-01-26T18:12:50.163297Z"
  },
  "comments": [
    {
      "id": "7fc3e9b6-78b7-4bb7-a5e8-8ee1c5e37bb0",
      "session_id": "1b170a24-05a3-47ce-af7f-d673adec1385",
      "type": "ticket_done",
      "content": "## SSE Event System for Real-Time TUI Updates\n\n### Summary\nImplemented a complete SSE (Server-Sent Events) system that enables the kanban TUI to auto-refresh when tickets change, eliminating the need for manual polling.\n\n### Architecture\n1. **Event Bus** (`internal/events/bus.go`) — In-process pub/sub keyed by project path. Uses buffered channels (cap 64) with non-blocking emit so slow consumers never block the store.\n2. **Store Integration** (`internal/ticket/store.go`) — NewStore now accepts optional bus+projectPath. Emits 9 event types: TicketCreated, TicketUpdated, TicketDeleted, TicketMoved, SessionStarted, SessionEnded, SessionStatus, CommentAdded, ReviewRequested.\n3. **SSE Endpoint** (`internal/daemon/api/events.go`) — GET /events streams JSON events per project. Sets proper SSE headers, listens on request context for cleanup.\n4. **SDK Client** (`internal/cli/sdk/client.go`) — SubscribeEvents() opens a long-lived SSE connection with a dedicated no-timeout HTTP client, parses data: lines, returns a channel.\n5. **TUI Integration** (`internal/cli/tui/kanban/model.go`) — Subscribes on Init(), waits for events, reloads tickets on any event. Cancels SSE context on quit. Gracefully degrades if connection fails.\n6. **Ticket Detail** (`internal/cli/tui/ticket/model.go`) — Added RefreshMsg and TicketID() accessor so the kanban can forward refresh events to the detail view.\n\n### Key Decisions\n- **Non-blocking emit**: Slow TUI consumers drop events rather than blocking the store. Since the TUI re-fetches all data on any event, missing intermediates is fine.\n- **Nil bus for MCP**: MCP-created stores pass nil bus since they are separate from daemon-managed stores and do not need event emission.\n- **Graceful degradation**: If SSE connection fails, the TUI silently falls back to manual refresh (press r).\n- **No heartbeat**: Kept SSE simple without keepalive pings. Connection drops are detected by the reader goroutine exiting.\n\n### Files Changed (15)\n**New:**\n- internal/events/bus.go\n- internal/events/bus_test.go\n- internal/daemon/api/events.go\n\n**Modified:**\n- internal/ticket/store.go (bus + emit)\n- internal/ticket/store_test.go (updated NewStore signature)\n- internal/daemon/api/store_manager.go (thread bus)\n- internal/daemon/api/deps.go (Bus field)\n- internal/daemon/api/server.go (SSE route)\n- internal/daemon/api/integration_test.go (updated signatures)\n- internal/daemon/mcp/server.go (nil bus)\n- internal/daemon/mcp/tools_test.go (updated signatures)\n- cmd/cortexd/commands/serve.go (wire bus)\n- internal/cli/sdk/client.go (SubscribeEvents)\n- internal/cli/tui/kanban/model.go (SSE subscription)\n- internal/cli/tui/ticket/model.go (RefreshMsg)\n\n### Verification\n- make build: clean\n- make test: all unit tests pass (including 6 new bus tests)\n- make lint: 0 issues\n- API integration tests: all pass\n- Merge to main: completed (resolved one conflict in client.go with FocusTicket from concurrent work)\n\n### Follow-up Notes\n- MCP integration tests have pre-existing failures (EOF on initialize) unrelated to this change.\n- Could add SSE heartbeat/keepalive pings in the future if connection stability becomes an issue.\n- Could add event filtering (e.g., subscribe to specific event types) if needed.",
      "created_at": "2026-01-26T18:12:50.161881Z"
    }
  ],
  "session": {
    "id": "1b170a24-05a3-47ce-af7f-d673adec1385",
    "started_at": "2026-01-26T17:32:35.534728Z",
    "ended_at": "2026-01-26T18:12:50.162649Z",
    "agent": "claude",
    "tmux_window": "sse-event-system-for-real-time-tui-updates",
    "worktree_path": "/Users/kareemelbahrawy/.cortex/worktrees/9ebfff61-4a80-4917-8821-22345d4ae311",
    "feature_branch": "ticket/sse-event-system",
    "current_status": {
      "status": "in_progress",
      "tool": "Bash",
      "work": null,
      "at": "2026-01-26T18:12:24.111721Z"
    },
    "status_history": [
      {
        "status": "starting",
        "tool": null,
        "work": null,
        "at": "2026-01-26T17:32:35.534728Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-26T17:33:00.449728Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-26T17:33:00.64899Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-26T17:33:00.783636Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-26T17:33:00.923075Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T17:33:01.292141Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T17:33:01.302588Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T17:33:03.594904Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:03.921254Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:03.921654Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:03.92203Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:04.510527Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:04.510987Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:04.511317Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T17:33:06.317769Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:07.677852Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:07.678521Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:07.678975Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T17:33:07.686738Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T17:33:08.301487Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:10.142602Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:10.143159Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:10.146918Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:11.002456Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:11.002915Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:11.003246Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:13.375093Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:13.375626Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:13.376281Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:13.376638Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:13.379542Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:13.686711Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:13.687281Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:13.687623Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:14.176105Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:14.176672Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:14.177187Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:17.250134Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:17.603299Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:17.603753Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:17.953027Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:17.953679Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:17.954144Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:17.954907Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:21.108477Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:21.109069Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:21.634416Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:21.635025Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T17:33:24.871694Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:27.800073Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T17:33:27.863028Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:30.794638Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T17:33:30.845839Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:33:33.974765Z"
      },
      {
        "status": "in_progress",
        "tool": "Task",
        "work": null,
        "at": "2026-01-26T17:33:55.266869Z"
      },
      {
        "status": "in_progress",
        "tool": "Task",
        "work": null,
        "at": "2026-01-26T17:34:03.239215Z"
      },
      {
        "status": "in_progress",
        "tool": "Task",
        "work": null,
        "at": "2026-01-26T17:34:03.895598Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:00.017292Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:00.017861Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:00.018352Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:00.01879Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:00.019308Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:10.46042Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:10.461174Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:10.4619Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-26T17:35:19.858324Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-26T17:35:19.989963Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-26T17:35:20.128205Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-26T17:35:20.264738Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:24.252494Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:24.253082Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:24.253564Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:24.254071Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:45.044464Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:45.045034Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:45.045546Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:45.046044Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:52.623097Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-26T17:35:52.975752Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:55.871904Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:35:55.872561Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:36:02.050139Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-26T17:36:02.401549Z"
      },
      {
        "status": "in_progress",
        "tool": "Task",
        "work": null,
        "at": "2026-01-26T17:38:17.385597Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:38:25.174471Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:38:25.175199Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:38:25.175868Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:38:25.177015Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:38:32.440379Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:38:32.44108Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-26T17:38:32.82681Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:38:41.48847Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:38:41.489048Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:38:41.489587Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:38:41.49005Z"
      },
      {
        "status": "in_progress",
        "tool": "Write",
        "work": null,
        "at": "2026-01-26T17:39:36.890609Z"
      },
      {
        "status": "waiting_permission",
        "tool": null,
        "work": null,
        "at": "2026-01-26T17:39:45.200062Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-26T17:54:44.91394Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:54:53.208813Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:54:53.210034Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:54:53.210912Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:54:53.212489Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:54:53.213033Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:54:53.213558Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:54:53.214057Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:54:53.214534Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:54:53.214979Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:55:01.600702Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:55:01.601329Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:55:01.601821Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T17:55:01.638568Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T17:55:08.182127Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-26T17:55:08.69129Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T17:55:12.331231Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-26T17:55:21.664508Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T17:55:25.140657Z"
      },
      {
        "status": "in_progress",
        "tool": "Write",
        "work": null,
        "at": "2026-01-26T17:55:36.269625Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-26T17:55:43.415001Z"
      },
      {
        "status": "in_progress",
        "tool": "Write",
        "work": null,
        "at": "2026-01-26T17:56:00.270466Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-26T17:56:07.667684Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:56:16.394482Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:56:16.492489Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:56:21.901597Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:56:26.688676Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:56:32.14917Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:56:38.376771Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:56:43.689373Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:56:49.936263Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:56:55.414816Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:57:00.257381Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:57:05.191989Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:57:10.507441Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:57:15.582058Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:57:21.940037Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:57:27.380391Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-26T17:57:37.423001Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:58:05.330202Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:58:05.483669Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:58:05.657421Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:58:05.831313Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:58:05.999804Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:58:06.1951Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:58:06.38292Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:58:06.574655Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:58:06.761834Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:58:06.981051Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:58:07.223119Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:58:07.435804Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-26T17:58:16.199927Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-26T17:58:16.338992Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-26T17:58:16.480164Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-26T17:58:35.674374Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-26T17:58:41.289389Z"
      },
      {
        "status": "in_progress",
        "tool": "Write",
        "work": null,
        "at": "2026-01-26T17:58:49.733855Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:58:55.51192Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-26T17:59:04.051504Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:59:08.949148Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:59:19.442512Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:59:26.329311Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:59:32.188902Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:59:37.00399Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:59:42.44315Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:59:50.30991Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T17:59:55.977264Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T18:00:04.583349Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T18:00:10.117774Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T18:00:15.204355Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T18:00:21.693681Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-26T18:00:30.432512Z"
      },
      {
        "status": "waiting_permission",
        "tool": null,
        "work": null,
        "at": "2026-01-26T18:00:35.872391Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:00:52.978721Z"
      },
      {
        "status": "waiting_permission",
        "tool": null,
        "work": null,
        "at": "2026-01-26T18:00:59.469752Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:02:29.523878Z"
      },
      {
        "status": "waiting_permission",
        "tool": null,
        "work": null,
        "at": "2026-01-26T18:02:31.614318Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T18:03:07.974723Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T18:03:08.33307Z"
      },
      {
        "status": "waiting_permission",
        "tool": null,
        "work": null,
        "at": "2026-01-26T18:03:13.533223Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:04:35.530732Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:04:37.148187Z"
      },
      {
        "status": "waiting_permission",
        "tool": null,
        "work": null,
        "at": "2026-01-26T18:04:43.263705Z"
      },
      {
        "status": "waiting_permission",
        "tool": null,
        "work": null,
        "at": "2026-01-26T18:05:41.824662Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:06:04.875082Z"
      },
      {
        "status": "waiting_permission",
        "tool": null,
        "work": null,
        "at": "2026-01-26T18:06:14.386072Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:06:19.290289Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-26T18:06:29.309755Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:06:34.551339Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:06:34.639847Z"
      },
      {
        "status": "waiting_permission",
        "tool": null,
        "work": null,
        "at": "2026-01-26T18:06:44.769965Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:07:38.156977Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-26T18:07:46.920605Z"
      },
      {
        "status": "idle",
        "tool": null,
        "work": null,
        "at": "2026-01-26T18:08:12.473779Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-26T18:10:08.353621Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T18:10:12.339876Z"
      },
      {
        "status": "waiting_permission",
        "tool": null,
        "work": null,
        "at": "2026-01-26T18:10:22.970186Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:10:40.843398Z"
      },
      {
        "status": "idle",
        "tool": null,
        "work": null,
        "at": "2026-01-26T18:10:44.526721Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:10:58.787621Z"
      },
      {
        "status": "waiting_permission",
        "tool": null,
        "work": null,
        "at": "2026-01-26T18:11:04.44412Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:11:10.749833Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:11:14.346829Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T18:11:17.942562Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T18:11:22.898581Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T18:11:26.736075Z"
      },
      {
        "status": "waiting_permission",
        "tool": null,
        "work": null,
        "at": "2026-01-26T18:11:44.30888Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-26T18:12:01.810093Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-26T18:12:06.813873Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:12:14.755075Z"
      },
      {
        "status": "waiting_permission",
        "tool": null,
        "work": null,
        "at": "2026-01-26T18:12:20.512719Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-26T18:12:24.111721Z"
      }
    ],
    "requested_reviews": [
      {
        "repo_path": ".",
        "summary": "Implemented SSE event system for real-time TUI updates. Added in-process event bus (internal/events), wired it through the ticket store to emit 9 event types on mutations, exposed SSE endpoint at GET /events, added SDK SubscribeEvents client, and integrated with kanban TUI for auto-refresh. 15 files changed (484 insertions). Build, unit tests, lint, and API integration tests all pass.",
        "requested_at": "2026-01-26T18:10:40.606699Z"
      }
    ]
  }
}