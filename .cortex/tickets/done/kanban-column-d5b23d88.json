{
  "id": "d5b23d88-979f-4c8b-bb27-28290707d872",
  "title": "Kanban Column Scrolling",
  "body": "## Context\n\nEarly development, no users. Breaking changes are fine. Do not accumulate tech debt.\n\n## Problem\n\nWhen a column (especially Done) has many tickets, the entire kanban UI overflows the terminal. Columns should have a max height with internal scrolling.\n\n## Current State\n\n- `column.go:77` - `View()` receives `maxHeight` and applies `.Height(maxHeight)` to the style\n- But it renders ALL tickets without any viewport/windowing\n- Only j/k navigation exists (single ticket up/down)\n\n## Requirements\n\n### Column Viewport\n\n- Render only visible tickets that fit within `maxHeight`\n- Track scroll offset in Column struct\n- Auto-scroll to keep cursor visible when navigating\n\n### New Vim Keybindings\n\nAdd to `keys.go` and handle in `model.go`:\n\n| Key | Action |\n|-----|--------|\n| `ctrl+u` | Scroll up 10 tickets |\n| `ctrl+d` | Scroll down 10 tickets |\n| `gg` | Jump to first ticket |\n| `G` | Jump to last ticket |\n\nNote: `gg` requires tracking key sequences (first `g` sets pending state, second `g` triggers action).\n\n### Visual Feedback\n\nShow scroll indicators when content overflows:\n- `\u25b2` at top when scrolled down\n- `\u25bc` at bottom when more content below\n\n## Files to Modify\n\n- `internal/cli/tui/kanban/column.go` - Add scroll offset, viewport rendering\n- `internal/cli/tui/kanban/keys.go` - Add new key constants\n- `internal/cli/tui/kanban/model.go` - Handle new keys, track `g` pending state\n\n## Implementation Notes\n\nCalculate visible ticket count: `(maxHeight - headerLines - marginLines)`\n\nScroll offset adjusts when:\n- Cursor moves above visible area: `offset = cursor`\n- Cursor moves below visible area: `offset = cursor - visibleCount + 1`\n- ctrl+u/ctrl+d: move cursor AND offset together\n\n## Implementation\n\n### Commits Pushed\n\n- `d4651c7` feat: implement viewport scrolling with vim navigation for kanban columns\n- `928e083` Merge branch 'ticket/2026-01-23-kanban-column-scrolling'\n- `ad80c58` fix: only reserve scroll indicator space when scrolling is needed\n\n### Key Files Changed\n\n- `internal/cli/tui/kanban/column.go` - Added `scrollOffset` field, viewport rendering with scroll indicators, navigation methods (`JumpToFirst`, `JumpToLast`, `ScrollUp`, `ScrollDown`, `EnsureCursorVisible`)\n- `internal/cli/tui/kanban/keys.go` - Added key constants (`KeyCtrlU`, `KeyCtrlD`, `KeyG`, `KeyShiftG`), updated help text\n- `internal/cli/tui/kanban/model.go` - Added `pendingG` state for gg sequence, key handlers for new navigation\n- `internal/cli/tui/kanban/styles.go` - Added `mutedStyle` for scroll indicators\n\n### Important Decisions\n\n- Scroll indicators (\u25b2/\u25bc) only reserve space when scrolling is actually needed (fixed in ad80c58)\n- `visibleCount` calculated as `maxHeight - headerLines - indicatorLines` (indicatorLines=0 when no scrolling needed)\n- Scroll amount for ctrl+u/d set to 10 tickets (half-page feel)\n- `EnsureCursorVisible` called during rendering to ensure cursor stays in viewport\n\n### Scope Changes\n\nNone - implemented as specified in ticket requirements",
  "dates": {
    "created": "2026-01-24T09:35:24Z",
    "updated": "2026-01-24T09:35:24Z",
    "done": "2026-01-24T09:35:24Z"
  },
  "comments": [],
  "session": null
}
