{
  "id": "9ce1c927-af39-42fd-9e48-414e5169f1eb",
  "title": "Cortex Kanban TUI",
  "body": "Implement the `cortex kanban` command with a Bubbletea-based kanban board.\n\n## Context\n\nThe kanban view shows tickets in three columns (backlog, progress, done) with keyboard navigation and actions.\n\nSee `DESIGN.md` for:\n- Kanban TUI mockup (lines 299-311)\n- Navigation keys (line 310)\n- CLI command (line 46)\n\nExisting packages:\n- `internal/cli/sdk` - client for daemon API\n- `internal/cli/tui` - empty, create components here\n\nDependencies to add:\n- `github.com/charmbracelet/bubbletea` - TUI framework\n- `github.com/charmbracelet/lipgloss` - styling\n\n## Requirements\n\nImplement `cortex kanban` command with Bubbletea TUI:\n\n1. **Layout**\n   - Three columns: Backlog, Progress, Done\n   - Show ticket count per column\n   - Ticket cards show title (truncated if needed)\n   - Progress tickets show agent status if available\n\n2. **Navigation**\n   - `j/k` or arrows: move up/down within column\n   - `h/l` or arrows: move between columns\n   - `Enter`: view ticket details (could open session view or expand)\n   - `s`: spawn session for selected ticket\n   - `a`: open architect session\n   - `q`: quit\n\n3. **Data Loading**\n   - Fetch tickets from daemon API (GET /tickets)\n   - Handle daemon not running gracefully\n   - Consider periodic refresh or manual refresh key\n\n4. **Styling**\n   - Use lipgloss for consistent styling\n   - Color code by status (suggestions: backlog=white, progress=yellow, done=green)\n   - Highlight selected ticket\n\n## Verification\n\n```bash\nmake build\nmake lint\nmake test\n\n# Manual test\ncortexd &  # Start daemon\ncortex kanban  # Should show board\n```\n\n## Notes\n\n- Reference `~/projects/cortex` (cortex0) for bubbletea patterns\n- Start simple - basic navigation and display first\n- Actions (spawn, view) can shell out or call SDK\n- Handle terminal resize gracefully\n\n## Implementation\n\n### Commits Pushed\n\n- `1a23858` feat: implement kanban TUI with Bubbletea\n\n### Key Files Changed\n\n- `cmd/cortex/commands/kanban.go` - Updated to launch TUI with alt-screen mode\n- `internal/cli/tui/kanban/styles.go` - Lipgloss styles (backlog=gray, progress=yellow, done=green)\n- `internal/cli/tui/kanban/column.go` - Column component with cursor navigation\n- `internal/cli/tui/kanban/keys.go` - Key bindings (vim-style h/j/k/l)\n- `internal/cli/tui/kanban/model.go` - Main Bubbletea model with async loading\n- `go.mod`, `go.sum` - Added bubbletea and lipgloss dependencies\n\n### Important Decisions\n\n- Used vim-style keybindings as primary (h/j/k/l) with arrow key support\n- Active sessions shown with bullet indicator (\u25cf) next to ticket title\n- Architect mode (`a` key) returns placeholder error - to be implemented separately\n- Status messages auto-clear after 3 seconds\n- Columns have minimum width of 20 chars for readability\n\n### Scope Changes\n\n- Ticket details view (`Enter` key) not implemented - marked for future enhancement\n- Agent status display in Progress column deferred - shows active session indicator instead",
  "dates": {
    "created": "2026-01-20T15:48:06Z",
    "updated": "2026-01-20T15:48:06Z",
    "done": "2026-01-20T15:48:06Z"
  },
  "comments": [],
  "session": null
}
