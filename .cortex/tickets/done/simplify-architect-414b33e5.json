{
  "id": "414b33e5-00ea-4572-b4fb-e8da83f5cdf6",
  "title": "Simplify Architect Session",
  "body": "## Context\n\nEarly development, no users. Breaking changes are fine. Do not accumulate tech debt.\n\n## Problem\n\nArchitect session tracking with architect.json is overcomplicated. We don't need --session-id, --fresh, or --resume for architect.\n\n## Requirements\n\n- Remove architect.json session tracking\n- Never pass --session-id to architect claude command\n- Simple logic: if tmux window exists \u2192 focus it, otherwise \u2192 spawn fresh\n- Remove --fresh and --resume options from `cortex architect` command\n\n## Implementation\n\n### Commits Pushed\n- `7d60756` feat: simplify architect session to window-based detection\n\n### Key Files Changed\n- `cmd/cortex/commands/architect.go` - Removed `--fresh` and `--resume` flags, simplified to always pass empty mode\n- `internal/daemon/api/architect.go` - Rewrote spawn logic: check window exists \u2192 focus or spawn fresh\n- `internal/core/spawn/state.go` - Removed `ArchitectStateInfo`, `DetectArchitectState()` and related methods\n- `internal/core/spawn/spawn.go` - Updated `Resume()` to only support ticket agents (added TicketID validation)\n- `internal/core/spawn/spawn_test.go` - Removed all architect state tests, added `TestResume_NoTicketID`\n\n### Files Deleted\n- `internal/project/architect/session.go` - Session tracking no longer needed\n- `internal/project/architect/session_test.go` - Associated tests\n\n### Important Decisions\n- Kept ticket session state detection intact (tickets still need orphan detection and resume)\n- Resume functionality now explicitly requires TicketID (only ticket agents can resume)\n- Architect spawn response still includes session info for API compatibility, but ID is always empty\n\n### Scope Changes\nNone - implemented as specified",
  "dates": {
    "created": "2026-01-24T10:04:35Z",
    "updated": "2026-01-24T10:04:35Z",
    "done": "2026-01-24T10:04:35Z"
  },
  "comments": [],
  "session": null
}
