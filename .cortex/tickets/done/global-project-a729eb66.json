{
  "id": "a729eb66-41ef-48b1-9422-23252a8940eb",
  "title": "Global Project Registry in settings.yaml",
  "body": "## Problem\n\nThere is no global registry of projects. Projects are discovered ad-hoc via upward directory traversal (`FindProjectRoot`). The daemon has no awareness of which projects exist on the machine until they're explicitly accessed via the `X-Cortex-Project` header.\n\nThis blocks cross-project visibility features like the daemon dashboard TUI.\n\n## Solution\n\nAdd a `projects` list to `~/.cortex/settings.yaml` that tracks all registered projects:\n\n```yaml\nport: 4200\nlog_level: info\n\nprojects:\n  - path: /Users/kareem/projects/cortex1\n    title: Cortex\n  - path: /Users/kareem/projects/myapp\n    title: My App\n```\n\n### Auto-registration\n\nWhen `cortex install` sets up `.cortex/` in a project, it should also append the project to `~/.cortex/settings.yaml` automatically.\n\n### CLI commands\n\n- `cortex projects` — list all registered projects with basic stats (ticket counts)\n- Consider `cortex register` / `cortex unregister` for manual management\n\n## Scope\n\n- Extend `internal/daemon/config/config.go` to include `Projects` field in the global `Config` struct\n- Add project entry struct: `path` (required, absolute), `title` (optional, defaults to directory name)\n- Auto-register on `cortex install`\n- Validate on load: skip/warn for paths that no longer exist or lack `.cortex/`\n- Add `cortex projects` CLI command\n- Add API endpoint `GET /projects` for the daemon to serve registered projects\n\n## Acceptance Criteria\n\n- [ ] `~/.cortex/settings.yaml` supports a `projects` list\n- [ ] `cortex install` auto-registers the project in global settings\n- [ ] `cortex projects` lists all registered projects\n- [ ] Stale paths (missing `.cortex/`) are handled gracefully\n- [ ] `GET /projects` API endpoint returns registered projects",
  "dates": {
    "created": "2026-01-27T10:40:00.454421Z",
    "updated": "2026-01-27T11:29:58.702315Z",
    "progress": "2026-01-27T11:09:15.12998Z",
    "reviewed": "2026-01-27T11:21:58.073653Z",
    "done": "2026-01-27T11:29:58.702315Z"
  },
  "comments": [
    {
      "id": "477574c2-025c-454c-8640-7b54ab0191b1",
      "session_id": "bd2cf66b-424e-405d-ab3f-b1543d14db4f",
      "type": "ticket_done",
      "content": "## Summary\n\nImplemented a global project registry in `~/.cortex/settings.yaml` that tracks all registered Cortex projects. This enables cross-project visibility features like the daemon dashboard TUI.\n\n## Changes Made\n\n### 1. Daemon Config (`internal/daemon/config/config.go`) — Modified\n- Added `ProjectEntry` struct with `Path` and `Title` fields (yaml-tagged)\n- Added `Projects []ProjectEntry` field to `Config` struct\n- Extracted `configPath()` helper for reuse across Load/Save\n- Added `LoadFromFile(path)` to enable testing with arbitrary file paths\n- Added `Save()` and `SaveToFile(path)` methods on `*Config`\n- Added `RegisterProject(absPath, title) bool` — idempotent, returns true if newly added\n- Added `UnregisterProject(absPath) bool` — returns true if found and removed\n\n### 2. Config Tests (`internal/daemon/config/config_test.go`) — New\n- 7 unit tests: register, idempotent register, unregister, not-found unregister, save/load round-trip, missing file load, file creation\n\n### 3. Auto-Registration (`internal/install/install.go`, `internal/install/result.go`) — Modified\n- Added `registerProject()` helper that loads global config, registers the project, and saves\n- Called in `Run()` after `setupProject()` succeeds (non-fatal: errors stored on result, don't fail init)\n- Added `Registered bool` and `RegistrationError error` fields to `Result`\n\n### 4. Init Command (`cmd/cortex/commands/init.go`) — Modified\n- Prints \"Global registry:\" section showing registration status (checkmark/bullet/cross)\n\n### 5. API Endpoint (`internal/daemon/api/projects.go`) — New\n- `GET /projects` handler loads global config, iterates entries, checks `.cortex/` existence, gets ticket counts via StoreManager (best-effort)\n- Response types: `ProjectResponse` (Path, Title, Exists, Counts), `ProjectTicketCounts` (Backlog, Progress, Review, Done)\n\n### 6. Server Route (`internal/daemon/api/server.go`) — Modified\n- Registered `GET /projects` route alongside `/health` (outside project-scoped group)\n\n### 7. SDK Client (`internal/cli/sdk/client.go`) — Modified\n- Added `ProjectTicketCounts`, `ProjectResponse`, `ListProjectsResponse` types\n- Added `ListProjects()` method (no project header needed, like Health)\n\n### 8. Projects Command (`cmd/cortex/commands/projects.go`) — New\n- `cortex projects` with `--json` flag\n- Table output: TITLE, PATH, BACKLOG, PROGRESS, REVIEW, DONE, STATUS columns\n- Stale projects show \"stale\" status and \"-\" for counts\n- Empty state message pointing to `cortex init`\n\n### 9. Register/Unregister Commands (`cmd/cortex/commands/register.go`) — New\n- `cortex register [path]` — validates `.cortex/` exists, registers in global config\n- `cortex unregister [path]` — removes from global config\n- Both default to cwd, operate directly on config file (no daemon needed)\n\n## Key Decisions\n\n- **Non-destructive stale handling**: Stale entries stay in settings.yaml, marked with `exists: false` in API response and \"stale\" in CLI. Users explicitly remove via `cortex unregister`.\n- **Non-fatal auto-registration**: If registration fails during `cortex init`, the error is reported but init doesn't fail.\n- **No project header for /projects**: The endpoint is global (like /health), not scoped to a single project.\n- **Best-effort ticket counts**: If store creation fails for a project, counts are omitted rather than erroring the whole response.\n\n## Files Changed (10)\n- `internal/daemon/config/config.go` — Modified\n- `internal/daemon/config/config_test.go` — New\n- `internal/install/install.go` — Modified\n- `internal/install/result.go` — Modified\n- `cmd/cortex/commands/init.go` — Modified\n- `internal/daemon/api/projects.go` — New\n- `internal/daemon/api/server.go` — Modified\n- `internal/cli/sdk/client.go` — Modified\n- `cmd/cortex/commands/projects.go` — New\n- `cmd/cortex/commands/register.go` — New\n\n## Verification\n- `make build` — compiles successfully\n- `make lint` — 0 issues\n- `make test` — all tests pass (including 7 new config tests)",
      "created_at": "2026-01-27T11:29:58.700661Z"
    }
  ],
  "session": {
    "id": "bd2cf66b-424e-405d-ab3f-b1543d14db4f",
    "started_at": "2026-01-27T11:09:15.089151Z",
    "ended_at": "2026-01-27T11:29:58.701699Z",
    "agent": "claude",
    "tmux_window": "global-project-registry-in-settingsyaml",
    "worktree_path": "/Users/kareemelbahrawy/.cortex/worktrees/95db1eb2-ae86-4e73-aca7-884d58167d22",
    "feature_branch": "ticket/global-project",
    "current_status": {
      "status": "in_progress",
      "tool": "Bash",
      "work": null,
      "at": "2026-01-27T11:29:33.656451Z"
    },
    "status_history": [
      {
        "status": "starting",
        "tool": null,
        "work": null,
        "at": "2026-01-27T11:09:15.089151Z"
      },
      {
        "status": "in_progress",
        "tool": "mcp__cortex__readTicket",
        "work": null,
        "at": "2026-01-27T11:09:31.554421Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:09:34.718444Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:09:34.850222Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:09:34.984185Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:09:35.116691Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:09:35.24979Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:09:35.381814Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:37.888172Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:37.888535Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:37.888809Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:37.889144Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:41.319613Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:41.320261Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:41.320739Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:41.321058Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:45.327627Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:45.328065Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:45.328468Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-27T11:09:45.677905Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:49.341408Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:49.34186Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:49.342257Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:49.342591Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:09:52.385351Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:09:53.258377Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:55.498534Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-27T11:09:55.842122Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:09:58.001858Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-27T11:09:58.353685Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:10:01.343948Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:10:01.345118Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:10:03.231256Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:10:05.345546Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:10:07.80465Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:10:08.145955Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:10:10.683452Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:10:10.683986Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:10:14.130371Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:10:14.130978Z"
      },
      {
        "status": "in_progress",
        "tool": "Task",
        "work": null,
        "at": "2026-01-27T11:10:48.691039Z"
      },
      {
        "status": "in_progress",
        "tool": "mcp__cortex__readTicket",
        "work": null,
        "at": "2026-01-27T11:11:20.5836Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:11:31.983615Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:11:31.984114Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:11:31.984515Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:11:31.984921Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:11:59.217967Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:11:59.348038Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:11:59.476381Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:11:59.613427Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:06.518526Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:06.519186Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:06.519677Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:06.520075Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:06.520432Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:06.520795Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:17.101994Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:17.102555Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:17.102978Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:17.103391Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:17.103791Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:17.104393Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:41.27946Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:12:41.710982Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:47.443126Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:47.443929Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:58.610495Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:12:58.611237Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:12:58.971632Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:13:06.299643Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-27T11:13:06.661749Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:13:10.958543Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:13:10.959344Z"
      },
      {
        "status": "in_progress",
        "tool": "Task",
        "work": null,
        "at": "2026-01-27T11:14:55.884526Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:15:03.179044Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:15:03.179639Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:15:03.180167Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:15:03.180698Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:15:10.95308Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:15:10.953638Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:15:10.954117Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:15:16.227159Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:15:16.227774Z"
      },
      {
        "status": "in_progress",
        "tool": "Write",
        "work": null,
        "at": "2026-01-27T11:15:57.820897Z"
      },
      {
        "status": "waiting_permission",
        "tool": null,
        "work": null,
        "at": "2026-01-27T11:16:03.516561Z"
      },
      {
        "status": "in_progress",
        "tool": "mcp__cortex__readTicket",
        "work": null,
        "at": "2026-01-27T11:16:26.88967Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-27T11:16:32.900813Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:16:40.344045Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:16:40.344609Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:16:40.345324Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:16:40.345776Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:16:40.34622Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:16:40.346624Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:16:49.128598Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:16:49.129223Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:16:49.129784Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:16:58.655211Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:16:58.792092Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:17:00.850377Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:17:00.851052Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-27T11:17:03.819614Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:17:05.753184Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:17:07.165564Z"
      },
      {
        "status": "in_progress",
        "tool": "Task",
        "work": null,
        "at": "2026-01-27T11:17:16.113739Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:17:22.057207Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-27T11:17:22.403955Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-27T11:17:28.578791Z"
      },
      {
        "status": "in_progress",
        "tool": "Write",
        "work": null,
        "at": "2026-01-27T11:17:42.425834Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-27T11:17:47.528075Z"
      },
      {
        "status": "in_progress",
        "tool": "Write",
        "work": null,
        "at": "2026-01-27T11:18:02.342935Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:18:07.74298Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-27T11:18:13.326626Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-27T11:18:19.834965Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-27T11:18:24.401096Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-27T11:18:33.718474Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:18:39.3829Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-27T11:18:47.043048Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-27T11:18:52.520601Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-27T11:18:58.080267Z"
      },
      {
        "status": "in_progress",
        "tool": "Write",
        "work": null,
        "at": "2026-01-27T11:19:09.891284Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-27T11:19:15.145096Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-27T11:19:19.888078Z"
      },
      {
        "status": "in_progress",
        "tool": "Edit",
        "work": null,
        "at": "2026-01-27T11:19:29.175445Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-27T11:19:35.011609Z"
      },
      {
        "status": "in_progress",
        "tool": "Glob",
        "work": null,
        "at": "2026-01-27T11:19:40.230461Z"
      },
      {
        "status": "in_progress",
        "tool": "Read",
        "work": null,
        "at": "2026-01-27T11:19:44.214191Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-27T11:19:48.758452Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-27T11:19:53.655981Z"
      },
      {
        "status": "in_progress",
        "tool": "Grep",
        "work": null,
        "at": "2026-01-27T11:19:58.829144Z"
      },
      {
        "status": "in_progress",
        "tool": "Write",
        "work": null,
        "at": "2026-01-27T11:20:10.881896Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-27T11:20:18.269559Z"
      },
      {
        "status": "in_progress",
        "tool": "Write",
        "work": null,
        "at": "2026-01-27T11:20:31.034514Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-27T11:20:36.72301Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:20:43.481732Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:20:57.707862Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:21:06.404135Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:21:11.786408Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:21:17.760806Z"
      },
      {
        "status": "in_progress",
        "tool": "TodoWrite",
        "work": null,
        "at": "2026-01-27T11:21:25.408367Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:21:31.354946Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:21:31.410745Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:21:31.411465Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:21:37.667099Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:21:46.628683Z"
      },
      {
        "status": "in_progress",
        "tool": "mcp__cortex__requestReview",
        "work": null,
        "at": "2026-01-27T11:21:58.10816Z"
      },
      {
        "status": "idle",
        "tool": null,
        "work": null,
        "at": "2026-01-27T11:22:02.617443Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:29:29.015271Z"
      },
      {
        "status": "in_progress",
        "tool": "Bash",
        "work": null,
        "at": "2026-01-27T11:29:33.656451Z"
      }
    ],
    "requested_reviews": [
      {
        "repo_path": "/Users/kareemelbahrawy/.cortex/worktrees/95db1eb2-ae86-4e73-aca7-884d58167d22",
        "summary": "Implemented global project registry in `~/.cortex/settings.yaml`. Changes:\n\n1. **Config** (`internal/daemon/config/config.go`): Added `ProjectEntry` struct, `Projects` field on `Config`, extracted `configPath()` helper, added `LoadFromFile`/`SaveToFile` methods, and `RegisterProject`/`UnregisterProject` methods.\n\n2. **Auto-registration** (`internal/install/install.go`, `result.go`): Projects are automatically registered in global config after `cortex init` succeeds. Added `Registered`/`RegistrationError` fields to `Result`.\n\n3. **Init output** (`cmd/cortex/commands/init.go`): Prints registration status with checkmark/bullet/cross.\n\n4. **API endpoint** (`internal/daemon/api/projects.go`, `server.go`): `GET /projects` returns all registered projects with existence check and best-effort ticket counts.\n\n5. **SDK client** (`internal/cli/sdk/client.go`): Added `ListProjects()` method and response types.\n\n6. **CLI commands**: `cortex projects` (table/JSON output), `cortex register [path]`, `cortex unregister [path]`.\n\n7. **Tests** (`internal/daemon/config/config_test.go`): 7 unit tests covering register, idempotent register, unregister, not-found unregister, save/load round-trip, missing file, and file creation.\n\nAll checks pass: `make build`, `make lint` (0 issues), `make test` (all pass).",
        "requested_at": "2026-01-27T11:21:58.072648Z"
      }
    ]
  }
}