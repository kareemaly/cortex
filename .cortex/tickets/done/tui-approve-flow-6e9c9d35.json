{
  "id": "6e9c9d35-b4aa-4e1f-b1dc-13a292bd112c",
  "title": "TUI Approve Flow",
  "body": "## Context\n\nEarly development, no users. Breaking changes are fine. Do not accumulate tech debt.\n\n## Overview\n\nExtend approve flow to ticket detail view and display review requests.\n\n**Note:** Kanban 'a' key approve action was implemented in `ticket-workflow-v2`.\n\n---\n\n## Show Review Requests\n\nIn ticket detail view, display `Session.RequestedReviews`:\n```\n\u2500\u2500\u2500 Review Requests \u2500\u2500\u2500\n[repo: .]  \"Implemented feature X, added tests\"  (2 min ago)\n[repo: ../lib]  \"Updated shared types\"  (1 min ago)\n```\n\n---\n\n## Ticket Detail Approve Action\n\nAdd 'a' key to ticket detail view (same behavior as kanban):\n1. Call POST /sessions/{id}/approve API\n2. Focus agent's tmux window\n\nNote: Worktree detection (approve-worktree.md vs approve.md) will work once worktree-support ticket adds Session.WorktreePath field.\n\n---\n\n## Implementation\n\n### Commits Pushed\n- `51d902c` feat: add approve flow with review requests display to ticket detail TUI\n\n### Key Files Changed\n- `internal/daemon/api/types.go` - Added `RequestedReviewResponse` struct, updated `SessionResponse` and `toSessionResponse()`\n- `internal/daemon/api/sessions.go` - Added `FocusWindow()` call after approve prompt\n- `internal/cli/sdk/client.go` - Added `RequestedReviewResponse` struct and field to `SessionResponse`\n- `internal/cli/tui/ticket/keys.go` - Added `KeyApprove` constant, updated `helpText()` with conditional approve display\n- `internal/cli/tui/ticket/model.go` - Added approve handling, `renderReviewRequests()`, `formatTimeAgo()` helper\n\n### Decisions Made\n- Approve action only shows in help bar when session has review requests (cleaner UX)\n- FocusWindow failure is non-fatal (logs warning, continues with success response)\n- Review requests display format: `[repo: .]  \"Summary\"  (2 min ago)`\n\n### Scope Changes\n- None - implemented as specified",
  "dates": {
    "created": "2026-01-24T14:41:51Z",
    "updated": "2026-01-24T14:41:51Z",
    "done": "2026-01-24T14:41:51Z"
  },
  "comments": [],
  "session": null
}
